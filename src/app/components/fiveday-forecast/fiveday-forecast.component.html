<ng-container *ngIf="sortedData | async as sortedData">
  <ng-container *ngIf="sortedData.length > 0">
    <mat-card>
      <mat-card-header>
        <mat-card-title> Next 5 days </mat-card-title>
      </mat-card-header>
      <mat-card-content>
        <table
          mat-table
          [dataSource]="sortedData"
          id="fiveDayTable"
          matSort
          (matSortChange)="sortData($event)"
        >
          <ng-container matColumnDef="Time">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>Time</th>
            <td mat-cell *matCellDef="let f">{{ formatDate(f.date) }}</td>
          </ng-container>
          <ng-container matColumnDef="Temp">
            <th mat-header-cell *matHeaderCellDef>Temp</th>
            <td mat-cell *matCellDef="let f">{{ f.temp }}</td>
          </ng-container>
          <tr mat-header-row *matHeaderRowDef="columns"></tr>
          <tr mat-row *matRowDef="let myRowData; columns: columns"></tr>
        </table>
      </mat-card-content>
    </mat-card>
  </ng-container>
</ng-container>
<ng-container *ngIf="isLoading | async as isLoading">
  <mat-spinner></mat-spinner>
</ng-container>
